# Employee Management System

## Overview

The **Employee Management System** is a comprehensive back-end application designed to manage employees, their tasks, attendance, gamification,
performance tracking and also other things. It provides features like employee creation, updates, deletion, task assignments, attendance tracking,
and more.
The system uses PostgreSQL as the database and is implemented with Node.js, Express.js, and other modern libraries.

---

## Features

### Employee Management

- Add, update, retrieve, and delete employee records.
- Manage employee details such as name, email, phone, department, role, and profile picture.
- Secure password handling with bcrypt and autogenerated secure passwords for new employees.
- Email notifications sent to employees upon account creation with login credentials.

### Department Management

- Maintain a list of departments.
- Link employees to their respective departments.
- Update the employeeâ€™s department while maintaining a history of department changes.

### Employee Department History

- Track the history of department assignments for employees.
- Log department start and end dates for each employee.
- Update history when an employee changes departments.

### Attendance Management

- Record and track employee attendance.
- Link attendance records to specific employees using foreign key constraints.
- Ensure data integrity with validations.

### Leave Management

- Allow employees to request leaves.
- Track leave types, start dates, end dates, and status (approved, pending, or rejected).
- Integrate with employee records to ensure valid leave requests.

### Task Management

- Assign tasks to employees with descriptions, due dates, and statuses (pending, in-progress, or completed).
- Enable employees to view and update task statuses.
- Cascade delete tasks when an employee is removed.

### Gamification

- Introduce gamification to enhance employee engagement.
- Award points for task completion, attendance consistency, and other performance metrics.
- Generate leaderboards to encourage healthy competition.

### Performance Management

- Evaluate employee performance based on predefined KPIs.
- Generate reports and feedback for employees.

### Notifications

- Send notifications to employees for important updates, task assignments, or approvals.
- Notify employees via email for actions such as account creation, task assignment, or leave approvals.

### Audit Logging

- Maintain an audit log for critical actions like employee creation, updates, and deletions.
- Track timestamps, action types, and responsible users for each logged event.

### Role Management

- Define and manage roles (e.g., Admin, Manager, Employee).
- Assign roles to employees to control access to various features.
- Implement role-based access control (RBAC) for API routes.

## Technologies Used

### Backend

- **Node.js**: Server runtime.
- **Express.js**: Web framework.
- **bcrypt**: Password hashing.
- **multer**: File handling for profile picture uploads.
- **nodemailer**: Sending emails.
- **validator**: Input validation.

### Database

- **PostgreSQL**: Relational database.
- **pg**: PostgreSQL client for Node.js.

### Dev Tools

- **dotenv**: Environment variable management.
- **Postman**: API testing.

---

## Prerequisites

1. **Node.js** and **npm** installed on your system.
2. **PostgreSQL** installed and configured.
3. Environment variables set in a `.env` file:

   ```env
   DATABASE_URL=----
   EMAIL_ADDRESS=----
   PASSWORD=-----
   JWT_SECRET=----
   ```

---

## Setup and Installation

1. Clone the repository:

   ```bash
   git clone https:https://github.com/Tola-lemma/Employee_Management_System-EMS-Server/tree/main
   cd ----
   ```

2. Install dependencies:

   ```bash
   npm install
   ```

3. Create the PostgreSQL database and tables:
   - Alternatively, ensure `CREATE TABLE` queries are executed via the application.

4. Start the server:

   ```bash
   npm start
   ```

5. Access the application via `http://localhost:5000`.

---

## API Endpoints

### **Employee Management**

#### Create Employee

- **POST** `/employees`
- **Request Body**:

  ```json
  {
      "first_name": "John",
      "last_name": "Doe",
      "email": "johndoe@example.com",
      "phone": "+123456789",
      "department_id": 1,
      "role_id": 2,
      "date_of_birth": "1990-01-01",
      "address": "123 Elm Street",
      "date_joined": "2024-01-01",
      "profile_picture": "<binary file>"
  }
  ```

#### Get All Employees or Specific Employee

- **GET** `/employees`
- **GET** `/employees/:employee_id`

#### Update Employee

- **PUT** `/employees/:employee_id`
- **Request Body**: Include fields to update.

#### Delete Employee

- **DELETE** `/employees/:employee_id`

### **Task Management**

#### Create Task

- **POST** `/tasks`
- **Request Body**:

  ```json
  {
      "employee_id": 1,
      "task_description": "Complete the financial report",
      "due_date": "2024-01-15",
      "status": "pending"
  }
  ```

#### Get Tasks

- **GET** `/tasks`
- **GET** `/tasks/:task_id`

#### Update Task

- **PUT** `/tasks/:task_id`

#### Delete Task

- **DELETE** `/tasks/:task_id`

### **Attendance Management**

#### Record Attendance

- **POST** `/attendance`
- **Request Body**:

  ```json
  {
      "employee_id": 1,
      "date": "2024-01-10",
      "status": "present"
  }
  ```

#### Get Attendance Records

- **GET** `/attendance`
and more...

---

## Validations

- **Email**: Validated using `validator`.
- **Phone**: Regular expression check for valid formats.
- **File Uploads**: JPEG, JPG, PNG, GIF with max size of 2MB.

---

## Error Handling

- Returns clear, actionable error messages for issues like foreign key violations, invalid input, or missing fields.
- Logs errors to the console for debugging.

---

## Future Enhancements

- Advanced reporting features.
- Real-time notifications for task updates.

---

## License

This project is licensed under the MIT License.

---

## Contact

For any queries or contributions, feel free to contact:

- **Email**: ________________
- **GitHub**: ________
